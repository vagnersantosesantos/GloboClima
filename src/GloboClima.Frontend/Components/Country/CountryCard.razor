@using GloboClima.Core.Models

<div class="card country-card h-100">
    <div class="card-header d-flex justify-content-between align-items-center">
        <h5 class="mb-0">
            <img src="@Country.FlagPng" alt="@Country.Name" class="flag-icon me-2">
            @Country.Name
        </h5>
    </div>
    <div class="card-body">
        <div class="row mb-3">
            <div class="col-sm-6">
                <strong>Capital:</strong> @Country.Capital.FirstOrDefault().ToString()
            </div>
            <div class="col-sm-6">
                <strong>Região:</strong> @Country.Region
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-sm-6">
                <strong>População:</strong> @Country.Population.ToString("N0")
            </div>
            <div class="col-sm-6">
                <strong>Área:</strong> @Country.Area.ToString("N0") km²
            </div>
        </div>

        @if (Country.Languages.Any())
        {
            <div class="mb-2">
                <strong>Idiomas:</strong>
                <div class="mt-1">
                    @foreach (var language in Country.Languages)
                    {
                        <span class="badge bg-info me-1">@language.Value</span>
                    }
                </div>
            </div>
        }

        @if (Country.Currencies.Any())
        {
            <div>
                <strong>Moedas:</strong>
                <div class="mt-1">
                    @foreach (var currency in Country.Currencies)
                    {
                        <span class="badge bg-success me-1">
                            @currency.Value.Name
                        </span>
                    }
                </div>
            </div>
        }
    </div>
</div>

@code {
    [Parameter] public CountryNameData Country { get; set; } = new();
    [Parameter] public bool IsFavorite { get; set; }
    [Parameter] public EventCallback<string> OnToggleFavorite { get; set; }

    private async Task ToggleFavorite()
    {
        await OnToggleFavorite.InvokeAsync(Country.Name);
    }
}

<style>
    .country-card {
        border: none;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s;
    }

        .country-card:hover {
            transform: translateY(-2px);
        }

    .flag-icon {
        width: 24px;
        height: auto;
        border-radius: 2px;
    }
</style>
